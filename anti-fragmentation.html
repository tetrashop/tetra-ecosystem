<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø³Ø§Ù…Ø§Ù†Ù‡ Ø¶Ø¯ Ú†Ù†Ø¯Ù¾Ø§Ø±Ú¯ÛŒ - Tetra Ecosystem</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        .integration-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        .data-source {
            background: white;
            border: 2px dashed #dee2e6;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            cursor: move;
            transition: all 0.3s ease;
        }
        .data-source:hover {
            border-color: #667eea;
            background: #f8f9fa;
        }
        .integration-flow {
            min-height: 400px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            background: #f8f9fa;
        }
        .unified-view {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            border-radius: 10px;
            padding: 1.5rem;
        }
    </style>
</head>
<body class="bg-light">
    <nav class="navbar navbar-dark bg-danger">
        <div class="container">
            <a class="navbar-brand" href="tetra-ecosystem.html">
                <i class="bi bi-shield-check"></i>
                Ø³Ø§Ù…Ø§Ù†Ù‡ Ø¶Ø¯ Ú†Ù†Ø¯Ù¾Ø§Ø±Ú¯ÛŒ
            </a>
        </div>
    </nav>

    <div class="container py-5">
        <!-- Ù‡Ø¯Ø± -->
        <div class="integration-card text-center">
            <h1 class="display-5 mb-3">ğŸ›¡ï¸ Ø³Ø§Ù…Ø§Ù†Ù‡ Ø¶Ø¯ Ú†Ù†Ø¯Ù¾Ø§Ø±Ú¯ÛŒ</h1>
            <p class="lead mb-4">ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ø±Ø§Ú©Ù†Ø¯Ù‡ Ø¯Ø± Ø³Ø§Ø²Ù…Ø§Ù† Ø´Ù…Ø§</p>
            <div class="row">
                <div class="col-md-3">
                    <div class="h3">Û¹ÛµÙª</div>
                    <small>Ú©Ø§Ù‡Ø´ Ù¾ÛŒÚ†ÛŒØ¯Ú¯ÛŒ</small>
                </div>
                <div class="col-md-3">
                    <div class="h3">Û·Û°Ùª</div>
                    <small>ØµØ±ÙÙ‡â€ŒØ¬ÙˆÛŒÛŒ Ø²Ù…Ø§Ù†ÛŒ</small>
                </div>
                <div class="col-md-3">
                    <div class="h3">Û±Û°Û°Ùª</div>
                    <small>ÛŒÚ©Ù¾Ø§Ø±Ú†Ú¯ÛŒ Ø¯Ø§Ø¯Ù‡</small>
                </div>
                <div class="col-md-3">
                    <div class="h3">Û²Û´/Û·</div>
                    <small>Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</small>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Ù…Ù†Ø§Ø¨Ø¹ Ø¯Ø§Ø¯Ù‡ -->
            <div class="col-md-4">
                <div class="card shadow-sm">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0">ğŸ“ Ù…Ù†Ø§Ø¨Ø¹ Ø¯Ø§Ø¯Ù‡ Ù…ÙˆØ¬ÙˆØ¯</h5>
                    </div>
                    <div class="card-body">
                        <div class="data-source" draggable="true" data-type="excel">
                            <i class="bi bi-file-earmark-excel text-success"></i>
                            <strong>ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Excel</strong>
                            <small class="d-block text-muted">Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø§Ù„ÛŒ Ùˆ Ø¢Ù…Ø§Ø±ÛŒ</small>
                        </div>
                        
                        <div class="data-source" draggable="true" data-type="database">
                            <i class="bi bi-database text-primary"></i>
                            <strong>Ù¾Ø§ÛŒÚ¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø¯Ù‡</strong>
                            <small class="d-block text-muted">MySQL, PostgreSQL, MongoDB</small>
                        </div>
                        
                        <div class="data-source" draggable="true" data-type="api">
                            <i class="bi bi-plug text-warning"></i>
                            <strong>API Ù‡Ø§ÛŒ Ø®Ø§Ø±Ø¬ÛŒ</strong>
                            <small class="d-block text-muted">Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ ÙˆØ¨ Ùˆ Ø±Ø³Øª</small>
                        </div>
                        
                        <div class="data-source" draggable="true" data-type="cloud">
                            <i class="bi bi-cloud text-info"></i>
                            <strong>Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø§Ø¨Ø±ÛŒ</strong>
                            <small class="d-block text-muted">Google Drive, Dropbox</small>
                        </div>
                        
                        <div class="data-source" draggable="true" data-type="crm">
                            <i class="bi bi-people text-danger"></i>
                            <strong>Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ CRM</strong>
                            <small class="d-block text-muted">Ù…Ø´ØªØ±ÛŒØ§Ù† Ùˆ Ø§Ø±ØªØ¨Ø§Ø·Ø§Øª</small>
                        </div>
                    </div>
                </div>

                <!-- Ø¢Ù…Ø§Ø± ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ -->
                <div class="card shadow-sm mt-4">
                    <div class="card-header bg-success text-white">
                        <h5 class="mb-0">ğŸ“Š Ø¢Ù…Ø§Ø± ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <small>Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ Ø´Ø¯Ù‡:</small>
                            <div class="progress mb-2">
                                <div class="progress-bar" style="width: 85%">Û¸ÛµÙª</div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <small>Ø§ØªØµØ§Ù„â€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„:</small>
                            <div class="progress mb-2">
                                <div class="progress-bar bg-success" style="width: 92%">Û¹Û²Ùª</div>
                            </div>
                        </div>
                        <div>
                            <small>Ú©Ø§Ø±Ø§ÛŒÛŒ Ø³ÛŒØ³ØªÙ…:</small>
                            <div class="progress">
                                <div class="progress-bar bg-warning" style="width: 78%">Û·Û¸Ùª</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ÙØ¶Ø§ÛŒ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ -->
            <div class="col-md-8">
                <div class="card shadow-sm">
                    <div class="card-header bg-info text-white">
                        <h5 class="mb-0">ğŸ”„ ÙØ¶Ø§ÛŒ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ</h5>
                    </div>
                    <div class="card-body">
                        <div class="integration-flow" id="integrationArea">
                            <div class="text-center text-muted py-5">
                                Ù…Ù†Ø§Ø¨Ø¹ Ø¯Ø§Ø¯Ù‡ Ø±Ø§ Ø¨Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ú©Ø´ÛŒØ¯ ØªØ§ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ Ø´ÙˆÙ†Ø¯
                            </div>
                        </div>
                        
                        <div class="mt-3 text-center">
                            <button class="btn btn-primary me-2" onclick="integrateData()">
                                <i class="bi bi-gear"></i>
                                Ø´Ø±ÙˆØ¹ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ
                            </button>
                            <button class="btn btn-outline-secondary" onclick="clearIntegration()">
                                <i class="bi bi-trash"></i>
                                Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Ù†Ù…Ø§ÛŒ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ -->
                <div class="unified-view mt-4">
                    <h5 class="mb-3">ğŸ‘ï¸ Ù†Ù…Ø§ÛŒ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§</h5>
                    <div id="unifiedDataView">
                        <p class="text-center">Ù‡Ù†ÙˆØ² Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</p>
                    </div>
                </div>

                <!-- Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ -->
                <div class="card shadow-sm mt-4">
                    <div class="card-header bg-warning text-dark">
                        <h5 class="mb-0">ğŸ“ˆ Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡</h5>
                    </div>
                    <div class="card-body">
                        <div class="row text-center">
                            <div class="col-md-3 mb-3">
                                <div class="text-primary h4" id="totalRecords">Û°</div>
                                <small>Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ú©Ù„</small>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="text-success h4" id="connectedSources">Û°</div>
                                <small>Ù…Ù†Ø§Ø¨Ø¹ Ù…ØªØµÙ„</small>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="text-info h4" id="dataQuality">Û°Ùª</div>
                                <small>Ú©ÛŒÙÛŒØª Ø¯Ø§Ø¯Ù‡</small>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="text-danger h4" id="processingTime">Û°ms</div>
                                <small>Ø²Ù…Ø§Ù† Ù¾Ø±Ø¯Ø§Ø²Ø´</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ø³ÛŒØ³ØªÙ… Ù…Ø¯ÛŒØ±ÛŒØª Ø¬Ø±ÛŒØ§Ù† Ø¯Ø§Ø¯Ù‡ -->
        <div class="row mt-4">
            <div class="col-md-12">
                <div class="card shadow-sm">
                    <div class="card-header bg-dark text-white">
                        <h5 class="mb-0">âš¡ Ù…Ø¯ÛŒØ±ÛŒØª Ø¬Ø±ÛŒØ§Ù† Ø¯Ø§Ø¯Ù‡</h5>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Ù…Ù†Ø¨Ø¹ Ø¯Ø§Ø¯Ù‡</th>
                                        <th>ÙˆØ¶Ø¹ÛŒØª</th>
                                        <th>Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ</th>
                                        <th>ØªØ¹Ø¯Ø§Ø¯ Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§</th>
                                        <th>Ø¹Ù…Ù„Ú©Ø±Ø¯</th>
                                    </tr>
                                </thead>
                                <tbody id="dataFlowTable">
                                    <!-- Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø±ÛŒØ§Ù† -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="data-manager.js"></script>
    <script>
        let integratedSources = [];
        let dataFlow = [];

        function initAntiFragmentation() {
            // ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ù‚Ø§Ø¨Ù„ÛŒØª Ú©Ø´ÛŒØ¯Ù† Ùˆ Ø±Ù‡Ø§ Ú©Ø±Ø¯Ù†
            initDragAndDrop();
            updateDataFlowTable();
            
            // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡
            const savedData = localStorage.getItem('antiFragmentationData');
            if (savedData) {
                const data = JSON.parse(savedData);
                integratedSources = data.sources || [];
                dataFlow = data.flow || [];
                updateUnifiedView();
                updateStatistics();
            }
        }

        function initDragAndDrop() {
            const sources = document.querySelectorAll('.data-source');
            const integrationArea = document.getElementById('integrationArea');

            sources.forEach(source => {
                source.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', source.dataset.type);
                });
            });

            integrationArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                integrationArea.style.backgroundColor = '#e9ecef';
            });

            integrationArea.addEventListener('dragleave', () => {
                integrationArea.style.backgroundColor = '#f8f9fa';
            });

            integrationArea.addEventListener('drop', (e) => {
                e.preventDefault();
                integrationArea.style.backgroundColor = '#f8f9fa';
                
                const sourceType = e.dataTransfer.getData('text/plain');
                addSourceToIntegration(sourceType);
            });
        }

        function addSourceToIntegration(sourceType) {
            if (!integratedSources.includes(sourceType)) {
                integratedSources.push(sourceType);
                
                const sourceElement = document.querySelector(`[data-type="${sourceType}"]`);
                const clone = sourceElement.cloneNode(true);
                clone.style.margin = '10px';
                clone.style.cursor = 'default';
                
                document.getElementById('integrationArea').appendChild(clone);
                
                updateUnifiedView();
                updateStatistics();
                saveData();
            }
        }

        function integrateData() {
            if (integratedSources.length === 0) {
                alert('Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ Ù…Ù†Ø§Ø¨Ø¹ Ø¯Ø§Ø¯Ù‡ Ø±Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯');
                return;
            }

            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ
            document.getElementById('integrationArea').innerHTML = 
                '<div class="text-center py-5"><div class="spinner-border text-primary"></div><p class="mt-2">Ø¯Ø± Ø­Ø§Ù„ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§...</p></div>';

            setTimeout(() => {
                // Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡
                const sampleData = generateUnifiedData();
                document.getElementById('integrationArea').innerHTML = 
                    '<div class="text-center text-success py-5"><i class="bi bi-check-circle" style="font-size: 3rem;"></i><p class="mt-2">ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯!</p></div>';
                
                updateUnifiedView(sampleData);
                updateDataFlow();
                updateStatistics();
                
                alert(`âœ… ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ ${integratedSources.length} Ù…Ù†Ø¨Ø¹ Ø¯Ø§Ø¯Ù‡ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯`);
            }, 3000);
        }

        function generateUnifiedData() {
            const sources = {
                excel: ['Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø§Ù„ÛŒ Û²Û°Û²Û´', 'Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´', 'ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¨ÙˆØ¯Ø¬Ù‡'],
                database: ['Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø´ØªØ±ÛŒØ§Ù†', 'Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…', 'Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ ØªØ±Ø§Ú©Ù†Ø´'],
                api: ['Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§', 'Ù†Ø±Ø® Ø§Ø±Ø²', 'Ø§Ø®Ø¨Ø§Ø± Ø¨Ø§Ø²Ø§Ø±'],
                cloud: ['Ø§Ø³Ù†Ø§Ø¯ Ù‡Ù…Ú©Ø§Ø±ÛŒ', 'ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡', 'ØªØµØ§ÙˆÛŒØ± Ù…Ø­ØµÙˆÙ„Ø§Øª'],
                crm: ['Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ù…Ø´ØªØ±ÛŒØ§Ù†', 'ØªØ§Ø±ÛŒØ®Ú†Ù‡ ØªÙ…Ø§Ø³', 'ØªÛŒÚ©Øªâ€ŒÙ‡Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ']
            };

            return integratedSources.map(source => ({
                type: source,
                name: sources[source] ? sources[source][0] : 'Ø¯Ø§Ø¯Ù‡ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡',
                records: Math.floor(Math.random() * 1000) + 100,
                lastUpdate: new Date().toLocaleString('fa-IR'),
                status: 'ÙØ¹Ø§Ù„'
            }));
        }

        function updateUnifiedView(data = null) {
            const view = document.getElementById('unifiedDataView');
            
            if (!data) {
                view.innerHTML = '<p class="text-center">Ù‡Ù†ÙˆØ² Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</p>';
                return;
            }

            view.innerHTML = data.map(item => `
                <div class="alert alert-light mb-2">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <strong>${item.name}</strong>
                            <br>
                            <small class="text-muted">${item.type} - ${item.records} Ø±Ú©ÙˆØ±Ø¯</small>
                        </div>
                        <span class="badge bg-success">${item.status}</span>
                    </div>
                </div>
            `).join('');
        }

        function updateDataFlow() {
            dataFlow = integratedSources.map(source => ({
                source: source,
                status: 'ÙØ¹Ø§Ù„',
                lastUpdate: new Date().toLocaleString('fa-IR'),
                records: Math.floor(Math.random() * 5000) + 1000,
                performance: 'Ø¹Ø§Ù„ÛŒ'
            }));

            updateDataFlowTable();
        }

        function updateDataFlowTable() {
            const table = document.getElementById('dataFlowTable');
            
            if (dataFlow.length === 0) {
                table.innerHTML = '<tr><td colspan="5" class="text-center text-muted">Ù‡ÛŒÚ† Ø¬Ø±ÛŒØ§Ù† Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ ÙØ¹Ø§Ù„ Ù†ÛŒØ³Øª</td></tr>';
                return;
            }

            table.innerHTML = dataFlow.map(item => `
                <tr>
                    <td>${getSourceName(item.source)}</td>
                    <td><span class="badge bg-success">${item.status}</span></td>
                    <td>${item.lastUpdate}</td>
                    <td>${item.records.toLocaleString()}</td>
                    <td><span class="badge bg-info">${item.performance}</span></td>
                </tr>
            `).join('');
        }

        function getSourceName(type) {
            const names = {
                excel: 'ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Excel',
                database: 'Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡',
                api: 'API Ø®Ø§Ø±Ø¬ÛŒ',
                cloud: 'Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø§Ø¨Ø±ÛŒ',
                crm: 'Ø³ÛŒØ³ØªÙ… CRM'
            };
            return names[type] || type;
        }

        function updateStatistics() {
            document.getElementById('totalRecords').textContent = 
                (dataFlow.reduce((sum, item) => sum + item.records, 0)).toLocaleString();
            document.getElementById('connectedSources').textContent = integratedSources.length;
            document.getElementById('dataQuality').textContent = 'Û¹ÛµÙª';
            document.getElementById('processingTime').textContent = 'Û´Û²ms';
        }

        function clearIntegration() {
            if (confirm('Ø¢ÛŒØ§ Ø§Ø² Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡ Ù…Ù†Ø§Ø¨Ø¹ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ Ø´Ø¯Ù‡ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ')) {
                integratedSources = [];
                dataFlow = [];
                document.getElementById('integrationArea').innerHTML = 
                    '<div class="text-center text-muted py-5">Ù…Ù†Ø§Ø¨Ø¹ Ø¯Ø§Ø¯Ù‡ Ø±Ø§ Ø¨Ù‡ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ú©Ø´ÛŒØ¯ ØªØ§ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ Ø´ÙˆÙ†Ø¯</div>';
                updateUnifiedView();
                updateDataFlowTable();
                updateStatistics();
                saveData();
            }
        }

        function saveData() {
            const data = {
                sources: integratedSources,
                flow: dataFlow,
                lastUpdate: new Date().toLocaleString('fa-IR')
            };
            localStorage.setItem('antiFragmentationData', JSON.stringify(data));
        }

        // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
        document.addEventListener('DOMContentLoaded', initAntiFragmentation);
    </script>
</body>
</html>
