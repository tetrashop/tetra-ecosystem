<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ú©ÛŒÙ Ù¾ÙˆÙ„ ØªØªØ±Ø§ - Tetra Ecosystem</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        .wallet-hero {
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
            color: white;
            padding: 3rem 0;
            text-align: center;
        }
        .balance-card {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 2px solid #e5e7eb;
        }
        .transaction-card {
            background: #f8fafc;
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border-right: 4px solid;
            transition: all 0.3s ease;
        }
        .transaction-card:hover {
            transform: translateX(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .income { border-right-color: #10b981; }
        .expense { border-right-color: #ef4444; }
        .investment { border-right-color: #f59e0b; }
        .quick-action {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            border: 2px solid #e5e7eb;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .quick-action:hover {
            border-color: #10b981;
            transform: translateY(-5px);
        }
        .profit-badge {
            background: linear-gradient(135deg, #f59e0b, #fbbf24);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        .security-badge {
            background: #1e40af;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
        }
    </style>
</head>
<body class="bg-light">
    <nav class="navbar navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="tetra-ecosystem.html">
                <i class="bi bi-wallet2"></i>
                Ú©ÛŒÙ Ù¾ÙˆÙ„ ØªØªØ±Ø§
            </a>
            <div class="navbar-text">
                <span class="security-badge">ğŸ”’ Ø§Ù…Ù†</span>
            </div>
        </div>
    </nav>

    <div class="wallet-hero">
        <div class="container">
            <h1 class="display-5 mb-3">ğŸ’° Ú©ÛŒÙ Ù¾ÙˆÙ„ ØªØªØ±Ø§</h1>
            <p class="lead mb-4">Ø³ÛŒØ³ØªÙ… Ù…Ø§Ù„ÛŒ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ Ø¨Ø§ Ø¨Ø§Ù„Ø§ØªØ±ÛŒÙ† Ø¨Ù‡Ø±Ù‡â€ŒÙˆØ±ÛŒ Ùˆ Ø§Ù…Ù†ÛŒØª</p>
        </div>
    </div>

    <div class="container py-5">
        <!-- Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ùˆ Ø¢Ù…Ø§Ø± Ú©Ù„ÛŒ -->
        <div class="row mb-4">
            <div class="col-md-8">
                <div class="balance-card">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <h6 class="text-muted mb-2">Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ù„</h6>
                            <h1 class="text-success display-4" id="totalBalance">Û±Û²,Û´ÛµÛ°,Û°Û°Û°</h1>
                            <small class="text-muted">ØªÙˆÙ…Ø§Ù†</small>
                            <div class="profit-badge mt-2">
                                <i class="bi bi-graph-up-arrow"></i>
                                Ø³ÙˆØ¯ Ø±ÙˆØ²Ø§Ù†Ù‡: Û².Û´Ùª
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="row text-center">
                                <div class="col-4">
                                    <div class="text-primary h5" id="availableBalance">Û¸,Û²ÛµÛ°,Û°Û°Û°</div>
                                    <small class="text-muted">Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù‚Ø§Ø¨Ù„ Ø¨Ø±Ø¯Ø§Ø´Øª</small>
                                </div>
                                <div class="col-4">
                                    <div class="text-warning h5" id="investedBalance">Û³,ÛµÛ°Û°,Û°Û°Û°</div>
                                    <small class="text-muted">Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù‡</small>
                                </div>
                                <div class="col-4">
                                    <div class="text-info h5" id="todayProfit">Û±Û´Û·,Û°Û°Û°</div>
                                    <small class="text-muted">Ø³ÙˆØ¯ Ø§Ù…Ø±ÙˆØ²</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="balance-card text-center">
                    <div class="text-warning mb-3">
                        <i class="bi bi-lightning-charge" style="font-size: 3rem;"></i>
                    </div>
                    <h5>Ø¨Ù‡Ø±Ù‡â€ŒÙˆØ±ÛŒ Ø³ÛŒØ³ØªÙ…</h5>
                    <div class="display-6 text-success" id="efficiencyScore">Û¹Û´.Û·Ùª</div>
                    <small class="text-muted">Ø§Ù…ØªÛŒØ§Ø² Ø¨Ù‡Ø±Ù‡â€ŒÙˆØ±ÛŒ Ù…Ø§Ù„ÛŒ</small>
                </div>
            </div>
        </div>

        <!-- Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ø³Ø±ÛŒØ¹ -->
        <div class="row mb-4">
            <div class="col-md-12">
                <div class="card shadow-sm">
                    <div class="card-header bg-white">
                        <h5 class="mb-0">âš¡ Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ø³Ø±ÛŒØ¹</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-3 mb-3">
                                <div class="quick-action" onclick="showDepositModal()">
                                    <div class="text-success mb-2">
                                        <i class="bi bi-plus-circle" style="font-size: 2.5rem;"></i>
                                    </div>
                                    <h6>ÙˆØ§Ø±ÛŒØ² ÙˆØ¬Ù‡</h6>
                                    <small class="text-muted">Ø§ÙØ²Ø§ÛŒØ´ Ù…ÙˆØ¬ÙˆØ¯ÛŒ</small>
                                </div>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="quick-action" onclick="showWithdrawModal()">
                                    <div class="text-primary mb-2">
                                        <i class="bi bi-arrow-up-circle" style="font-size: 2.5rem;"></i>
                                    </div>
                                    <h6>Ø¨Ø±Ø¯Ø§Ø´Øª ÙˆØ¬Ù‡</h6>
                                    <small class="text-muted">Ø¯Ø±ÛŒØ§ÙØª Ù…ÙˆØ¬ÙˆØ¯ÛŒ</small>
                                </div>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="quick-action" onclick="showInvestmentModal()">
                                    <div class="text-warning mb-2">
                                        <i class="bi bi-graph-up-arrow" style="font-size: 2.5rem;"></i>
                                    </div>
                                    <h6>Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ</h6>
                                    <small class="text-muted">Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯</small>
                                </div>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="quick-action" onclick="showTransferModal()">
                                    <div class="text-info mb-2">
                                        <i class="bi bi-arrow-left-right" style="font-size: 2.5rem;"></i>
                                    </div>
                                    <h6>Ø§Ù†ØªÙ‚Ø§Ù„ ÙˆØ¬Ù‡</h6>
                                    <small class="text-muted">Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ Ø¯ÛŒÚ¯Ø±Ø§Ù†</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ÛŒ Ø§Ø®ÛŒØ± -->
            <div class="col-md-8">
                <div class="card shadow-sm">
                    <div class="card-header bg-white d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">ğŸ“‹ ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ÛŒ Ø§Ø®ÛŒØ±</h5>
                        <button class="btn btn-sm btn-outline-primary" onclick="loadMoreTransactions()">
                            Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡
                        </button>
                    </div>
                    <div class="card-body">
                        <div id="recentTransactions">
                            <!-- ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ -->
                        </div>
                    </div>
                </div>

                <!-- Ù†Ù…ÙˆØ¯Ø§Ø±Ù‡Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ÛŒ -->
                <div class="card shadow-sm mt-4">
                    <div class="card-header bg-white">
                        <h5 class="mb-0">ğŸ“ˆ ØªØ­Ù„ÛŒÙ„ Ù…Ø§Ù„ÛŒ</h5>
                    </div>
                    <div class="card-body">
                        <div class="row text-center">
                            <div class="col-md-4">
                                <div class="text-success h4" id="monthlyGrowth">Û±Û¸.ÛµÙª</div>
                                <small class="text-muted">Ø±Ø´Ø¯ Ù…Ø§Ù‡Ø§Ù†Ù‡</small>
                            </div>
                            <div class="col-md-4">
                                <div class="text-primary h4" id="ROI">Û²Û´.Û³Ùª</div>
                                <small class="text-muted">Ø¨Ø§Ø²Ø¯Ù‡ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ</small>
                            </div>
                            <div class="col-md-4">
                                <div class="text-warning h4" id="riskScore">Ú©Ù…</div>
                                <small class="text-muted">Ø³Ø·Ø­ Ø±ÛŒØ³Ú©</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ù¾Ù†Ù„ Ú©Ù†Ø§Ø±ÛŒ -->
            <div class="col-md-4">
                <!-- Ø§Ù‡Ø¯Ø§Ù Ù…Ø§Ù„ÛŒ -->
                <div class="card shadow-sm mb-4">
                    <div class="card-header bg-success text-white">
                        <h5 class="mb-0">ğŸ¯ Ø§Ù‡Ø¯Ø§Ù Ù…Ø§Ù„ÛŒ</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <small>Ù‡Ø¯Ù Ù…Ø§Ù‡Ø§Ù†Ù‡: ÛµÛ°,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†</small>
                            <div class="progress mb-2">
                                <div class="progress-bar bg-success" style="width: 65%">Û¶ÛµÙª</div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <small>Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ: Û±Û°,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†</small>
                            <div class="progress mb-2">
                                <div class="progress-bar bg-warning" style="width: 35%">Û³ÛµÙª</div>
                            </div>
                        </div>
                        <div>
                            <small>Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ: Ûµ,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†</small>
                            <div class="progress">
                                <div class="progress-bar bg-info" style="width: 78%">Û·Û¸Ùª</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Ø§Ù…Ù†ÛŒØª -->
                <div class="card shadow-sm mb-4">
                    <div class="card-header bg-dark text-white">
                        <h5 class="mb-0">ğŸ›¡ï¸ Ø§Ù…Ù†ÛŒØª Ú©ÛŒÙ Ù¾ÙˆÙ„</h5>
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <span>ØªØ§ÛŒÛŒØ¯ Ø¯Ùˆ Ù…Ø±Ø­Ù„Ù‡â€ŒØ§ÛŒ</span>
                            <span class="badge bg-success">ÙØ¹Ø§Ù„</span>
                        </div>
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <span>Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</span>
                            <span class="badge bg-success">ÙØ¹Ø§Ù„</span>
                        </div>
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <span>Ø¨ÛŒÙ…Ù‡ Ø³Ù¾Ø±Ø¯Ù‡</span>
                            <span class="badge bg-success">ÙØ¹Ø§Ù„</span>
                        </div>
                        <div class="d-flex justify-content-between align-items-center">
                            <span>Ù†Ø¸Ø§Ø±Øª Real-time</span>
                            <span class="badge bg-success">ÙØ¹Ø§Ù„</span>
                        </div>
                    </div>
                </div>

                <!-- Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ -->
                <div class="card shadow-sm">
                    <div class="card-header bg-info text-white">
                        <h5 class="mb-0">ğŸ’ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡</h5>
                    </div>
                    <div class="card-body">
                        <ul class="list-unstyled">
                            <li class="mb-2">âœ… Ø³ÙˆØ¯ Ø±ÙˆØ²Ø§Ù†Ù‡ ØªØ§ Û².ÛµÙª</li>
                            <li class="mb-2">âœ… Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±</li>
                            <li class="mb-2">âœ… Ø§Ù†ØªÙ‚Ø§Ù„ ÙÙˆØ±ÛŒ</li>
                            <li class="mb-2">âœ… Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Û²Û´/Û·</li>
                            <li>âœ… Ú©Ø§Ø±Ù…Ø²Ø¯ Ù†Ø²Ø¯ÛŒÚ© Ø¨Ù‡ ØµÙØ±</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ù…ÙˆØ¯Ø§Ù„ ÙˆØ§Ø±ÛŒØ² ÙˆØ¬Ù‡ -->
    <div class="modal fade" id="depositModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">ğŸ’³ ÙˆØ§Ø±ÛŒØ² ÙˆØ¬Ù‡</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Ù…Ø¨Ù„Øº ÙˆØ§Ø±ÛŒØ² (ØªÙˆÙ…Ø§Ù†)</label>
                        <input type="number" class="form-control" id="depositAmount" placeholder="Ù…Ø«Ø§Ù„: 100000">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Ø±ÙˆØ´ ÙˆØ§Ø±ÛŒØ²</label>
                        <select class="form-select" id="depositMethod">
                            <option value="bank">Ø¯Ø±Ú¯Ø§Ù‡ Ø¨Ø§Ù†Ú©ÛŒ</option>
                            <option value="crypto">Ø§Ø±Ø² Ø¯ÛŒØ¬ÛŒØªØ§Ù„</option>
                            <option value="wallet">Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø¯ÛŒØ¬ÛŒØªØ§Ù„</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Ø§Ù†ØµØ±Ø§Ù</button>
                    <button type="button" class="btn btn-success" onclick="processDeposit()">Ù¾Ø±Ø¯Ø§Ø®Øª</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="data-manager.js"></script>
    <script>
        // Ø³ÛŒØ³ØªÙ… Ú©ÛŒÙ Ù¾ÙˆÙ„ ØªØªØ±Ø§
        class TetraWallet {
            constructor() {
                this.balance = 12450000;
                this.available = 8250000;
                this.invested = 3500000;
                this.transactions = this.loadTransactions();
                this.efficiency = 94.7;
            }

            loadTransactions() {
                const saved = localStorage.getItem('tetra_wallet_transactions');
                if (saved) {
                    return JSON.parse(saved);
                }

                // Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡
                return [
                    { id: 1, type: 'income', amount: 500000, description: 'Ø³ÙˆØ¯ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ', date: 'Û±Û´Û°Û²/Û±Û°/Û±Ûµ Û±Û°:Û³Û°', status: 'completed' },
                    { id: 2, type: 'expense', amount: -250000, description: 'Ø®Ø±ÛŒØ¯ Ø³Ø±ÙˆÛŒØ³ Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡', date: 'Û±Û´Û°Û²/Û±Û°/Û±Û´ Û±Ûµ:Û²Û°', status: 'completed' },
                    { id: 3, type: 'investment', amount: -1000000, description: 'Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø¬Ø¯ÛŒØ¯', date: 'Û±Û´Û°Û²/Û±Û°/Û±Û³ Û°Û¹:Û±Ûµ', status: 'completed' },
                    { id: 4, type: 'income', amount: 147000, description: 'Ø³ÙˆØ¯ Ø±ÙˆØ²Ø§Ù†Ù‡', date: 'Û±Û´Û°Û²/Û±Û°/Û±Û² Û²Û³:ÛµÛ¹', status: 'completed' },
                    { id: 5, type: 'income', amount: 350000, description: 'ÙØ±ÙˆØ´ Ø³Ø±ÙˆÛŒØ³', date: 'Û±Û´Û°Û²/Û±Û°/Û±Û± Û±Û´:Û´Ûµ', status: 'completed' }
                ];
            }

            saveTransactions() {
                localStorage.setItem('tetra_wallet_transactions', JSON.stringify(this.transactions));
            }

            deposit(amount, method = 'bank') {
                this.balance += amount;
                this.available += amount;
                
                const transaction = {
                    id: Date.now(),
                    type: 'income',
                    amount: amount,
                    description: `ÙˆØ§Ø±ÛŒØ² Ø§Ø² Ø·Ø±ÛŒÙ‚ ${this.getMethodName(method)}`,
                    date: new Date().toLocaleString('fa-IR'),
                    status: 'completed'
                };

                this.transactions.unshift(transaction);
                this.saveTransactions();
                this.updateEfficiency();
                
                return transaction;
            }

            withdraw(amount, destination) {
                if (amount > this.available) {
                    throw new Error('Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª');
                }

                this.balance -= amount;
                this.available -= amount;

                const transaction = {
                    id: Date.now(),
                    type: 'expense',
                    amount: -amount,
                    description: `Ø¨Ø±Ø¯Ø§Ø´Øª Ø¨Ù‡ ${destination}`,
                    date: new Date().toLocaleString('fa-IR'),
                    status: 'completed'
                };

                this.transactions.unshift(transaction);
                this.saveTransactions();
                this.updateEfficiency();
                
                return transaction;
            }

            invest(amount, plan = 'standard') {
                if (amount > this.available) {
                    throw new Error('Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª');
                }

                this.invested += amount;
                this.available -= amount;

                const transaction = {
                    id: Date.now(),
                    type: 'investment',
                    amount: -amount,
                    description: `Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø¯Ø± Ø·Ø±Ø­ ${plan}`,
                    date: new Date().toLocaleString('fa-IR'),
                    status: 'completed'
                };

                this.transactions.unshift(transaction);
                this.saveTransactions();
                this.updateEfficiency();
                
                return transaction;
            }

            getMethodName(method) {
                const methods = {
                    'bank': 'Ø¯Ø±Ú¯Ø§Ù‡ Ø¨Ø§Ù†Ú©ÛŒ',
                    'crypto': 'Ø§Ø±Ø² Ø¯ÛŒØ¬ÛŒØªØ§Ù„',
                    'wallet': 'Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø¯ÛŒØ¬ÛŒØªØ§Ù„'
                };
                return methods[method] || method;
            }

            updateEfficiency() {
                // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¨Ù‡Ø±Ù‡â€ŒÙˆØ±ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§
                const growthRate = (this.transactions.filter(t => t.amount > 0).reduce((sum, t) => sum + t.amount, 0) / this.balance) * 100;
                this.efficiency = Math.min(100, 90 + (growthRate / 10));
            }

            getTodayProfit() {
                const today = new Date().toLocaleDateString('fa-IR');
                return this.transactions
                    .filter(t => t.date.includes(today) && t.amount > 0)
                    .reduce((sum, t) => sum + t.amount, 0);
            }

            getMonthlyGrowth() {
                const monthlyIncome = this.transactions
                    .filter(t => t.amount > 0)
                    .slice(0, 30)
                    .reduce((sum, t) => sum + t.amount, 0);
                
                return ((monthlyIncome / this.balance) * 100).toFixed(1);
            }

            getROI() {
                return (this.invested > 0) ? ((this.getTodayProfit() / this.invested) * 100).toFixed(1) : 'Û°';
            }
        }

        // Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„
        const tetraWallet = new TetraWallet();

        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù†Ù…Ø§ÛŒØ´
        function updateWalletDisplay() {
            document.getElementById('totalBalance').textContent = tetraWallet.balance.toLocaleString();
            document.getElementById('availableBalance').textContent = tetraWallet.available.toLocaleString();
            document.getElementById('investedBalance').textContent = tetraWallet.invested.toLocaleString();
            document.getElementById('todayProfit').textContent = tetraWallet.getTodayProfit().toLocaleString();
            document.getElementById('efficiencyScore').textContent = tetraWallet.efficiency.toFixed(1) + '%';
            document.getElementById('monthlyGrowth').textContent = tetraWallet.getMonthlyGrowth() + '%';
            document.getElementById('ROI').textContent = tetraWallet.getROI() + '%';

            updateTransactionsDisplay();
        }

        function updateTransactionsDisplay() {
            const container = document.getElementById('recentTransactions');
            const transactions = tetraWallet.transactions.slice(0, 5);

            container.innerHTML = transactions.map(transaction => {
                const typeClass = transaction.type === 'income' ? 'income' : 
                                transaction.type === 'investment' ? 'investment' : 'expense';
                const typeIcon = transaction.type === 'income' ? 'ğŸ“¥' : 
                               transaction.type === 'investment' ? 'ğŸ“Š' : 'ğŸ“¤';

                return `
                    <div class="transaction-card ${typeClass}">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <strong>${typeIcon} ${transaction.description}</strong>
                                <br>
                                <small class="text-muted">${transaction.date}</small>
                            </div>
                            <div class="text-${transaction.amount > 0 ? 'success' : 'danger'} fw-bold">
                                ${transaction.amount > 0 ? '+' : ''}${transaction.amount.toLocaleString()} ØªÙˆÙ…Ø§Ù†
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÙˆØ¯Ø§Ù„â€ŒÙ‡Ø§
        function showDepositModal() {
            const modal = new bootstrap.Modal(document.getElementById('depositModal'));
            modal.show();
        }

        function showWithdrawModal() {
            alert('ğŸ’° Ø¨Ø®Ø´ Ø¨Ø±Ø¯Ø§Ø´Øª ÙˆØ¬Ù‡ - Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯');
        }

        function showInvestmentModal() {
            alert('ğŸ“ˆ Ø¨Ø®Ø´ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ - Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯');
        }

        function showTransferModal() {
            alert('ğŸ”„ Ø¨Ø®Ø´ Ø§Ù†ØªÙ‚Ø§Ù„ ÙˆØ¬Ù‡ - Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯');
        }

        function processDeposit() {
            const amount = parseInt(document.getElementById('depositAmount').value);
            const method = document.getElementById('depositMethod').value;

            if (!amount || amount < 10000) {
                alert('Ù„Ø·ÙØ§Ù‹ Ù…Ø¨Ù„Øº Ù…Ø¹ØªØ¨Ø±ÛŒ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ø­Ø¯Ø§Ù‚Ù„ Û±Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†)');
                return;
            }

            try {
                const transaction = tetraWallet.deposit(amount, method);
                updateWalletDisplay();
                
                const modal = bootstrap.Modal.getInstance(document.getElementById('depositModal'));
                modal.hide();
                
                alert(`âœ… Ù…Ø¨Ù„Øº ${amount.toLocaleString()} ØªÙˆÙ…Ø§Ù† Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ÙˆØ§Ø±ÛŒØ² Ø´Ø¯!`);
            } catch (error) {
                alert('âŒ Ø®Ø·Ø§ Ø¯Ø± ÙˆØ§Ø±ÛŒØ² ÙˆØ¬Ù‡: ' + error.message);
            }
        }

        function loadMoreTransactions() {
            // Ø¯Ø± Ù†Ø³Ø®Ù‡ Ú©Ø§Ù…Ù„ Ø¨Ù‡ ØµÙØ­Ù‡ ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ Ù…Ù†ØªÙ‚Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯
            alert('ğŸ“‹ ØµÙØ­Ù‡ Ú©Ø§Ù…Ù„ ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ - Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯');
        }

        // Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
        document.addEventListener('DOMContentLoaded', function() {
            updateWalletDisplay();
            
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Real-time
            setInterval(() => {
                tetraWallet.updateEfficiency();
                updateWalletDisplay();
            }, 10000);
        });
    </script>
</body>
</html>
