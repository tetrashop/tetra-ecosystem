<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª - Tetra Ecosystem</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        :root {
            --primary: #6366f1;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
        }
        
        body {
            background: #f8f9fa;
            font-family: system-ui;
        }
        
        .stats-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid;
            transition: transform 0.3s ease;
        }
        
        .stats-card:hover {
            transform: translateY(-5px);
        }
        
        .users-card { border-left-color: var(--primary); }
        .revenue-card { border-left-color: var(--success); }
        .orders-card { border-left-color: var(--warning); }
        .growth-card { border-left-color: var(--danger); }
        
        .data-table {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .live-badge {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .refresh-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .refresh-btn:hover {
            background: #4f46e5;
        }
        
        .last-update {
            font-size: 0.8rem;
            color: #6c757d;
        }
    </style>
</head>
<body>
    <!-- Ù†ÙˆØ§Ø± Ù†Ø§ÙˆØ¨Ø±ÛŒ -->
    <nav class="navbar navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="tetra-ecosystem.html">
                <i class="bi bi-speedometer2"></i>
                Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª ØªØªØ±Ø§
            </a>
            <div class="d-flex">
                <span class="badge bg-success live-badge me-3">
                    <i class="bi bi-circle-fill"></i> LIVE
                </span>
                <button class="refresh-btn" onclick="refreshData()">
                    <i class="bi bi-arrow-clockwise"></i> Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ
                </button>
            </div>
        </div>
    </nav>

    <div class="container py-4">
        <!-- Ø¢Ù…Ø§Ø± ÙÙˆØ±ÛŒ -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="stats-card users-card">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <h6 class="text-muted">Ú©Ø§Ø±Ø¨Ø±Ø§Ù† ÙØ¹Ø§Ù„</h6>
                            <h3 id="activeUsers">Û±,Û²Û´Û·</h3>
                            <span class="badge bg-success" id="usersChange">+Û±Û²Û´</span>
                        </div>
                        <i class="bi bi-people display-6 text-primary"></i>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-card revenue-card">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <h6 class="text-muted">Ø¯Ø±Ø¢Ù…Ø¯ Ø§Ù…Ø±ÙˆØ²</h6>
                            <h3 id="todayRevenue">Û±Û².Û´M</h3>
                            <span class="badge bg-success" id="revenueChange">+Û¸.Û²Ùª</span>
                        </div>
                        <i class="bi bi-currency-dollar display-6 text-success"></i>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-card orders-card">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <h6 class="text-muted">Ø³ÙØ§Ø±Ø´Ø§Øª Ø¬Ø¯ÛŒØ¯</h6>
                            <h3 id="newOrders">Û¸Û¹</h3>
                            <span class="badge bg-warning" id="ordersChange">+Ûµ</span>
                        </div>
                        <i class="bi bi-cart display-6 text-warning"></i>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-card growth-card">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <h6 class="text-muted">Ø±Ø´Ø¯ Ù‡ÙØªÚ¯ÛŒ</h6>
                            <h3 id="weeklyGrowth">Û²Û³.Û·Ùª</h3>
                            <span class="badge bg-danger" id="growthChange">+Û³.Û±Ùª</span>
                        </div>
                        <i class="bi bi-graph-up-arrow display-6 text-danger"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ø¢Ø®Ø±ÛŒÙ† Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ -->
        <div class="alert alert-info d-flex justify-content-between align-items-center">
            <div>
                <i class="bi bi-info-circle"></i>
                <span id="lastUpdateText">Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Real-time Ø¨Ù‡â€ŒØ±ÙˆØ² Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</span>
            </div>
            <button class="btn btn-sm btn-outline-primary" onclick="forceRefresh()">
                <i class="bi bi-lightning"></i> Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙÙˆØ±ÛŒ
            </button>
        </div>

        <!-- Ø¬Ø¯ÙˆÙ„ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† -->
        <div class="data-table mb-4">
            <div class="table-responsive">
                <table class="table table-hover mb-0">
                    <thead class="table-dark">
                        <tr>
                            <th>#</th>
                            <th>Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±</th>
                            <th>Ø§ÛŒÙ…ÛŒÙ„</th>
                            <th>ÙˆØ¶Ø¹ÛŒØª</th>
                            <th>Ø¢Ø®Ø±ÛŒÙ† ÙØ¹Ø§Ù„ÛŒØª</th>
                            <th>Ø¹Ù…Ù„ÛŒØ§Øª</th>
                        </tr>
                    </thead>
                    <tbody id="usersTable">
                        <!-- Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¨Ø§ JavaScript Ù¾Ø± Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Ù„Ø§Ú¯ Ø³ÛŒØ³ØªÙ… -->
        <div class="card">
            <div class="card-header bg-dark text-white">
                <h6 class="mb-0">
                    <i class="bi bi-terminal"></i>
                    Ù„Ø§Ú¯ Real-time Ø³ÛŒØ³ØªÙ…
                </h6>
            </div>
            <div class="card-body">
                <div id="systemLogs" style="height: 200px; overflow-y: auto; font-family: monospace; font-size: 0.9rem;">
                    <!-- Ù„Ø§Ú¯â€ŒÙ‡Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡
        let users = [
            { id: 1, name: "Ù…Ø­Ù…Ø¯ Ø±Ø¶Ø§ÛŒÛŒ", email: "mohammad@example.com", status: "ÙØ¹Ø§Ù„", lastActive: "Û² Ø¯Ù‚ÛŒÙ‚Ù‡ Ù¾ÛŒØ´" },
            { id: 2, name: "ÙØ§Ø·Ù…Ù‡ Ù…Ø­Ù…Ø¯ÛŒ", email: "fatemeh@example.com", status: "ÙØ¹Ø§Ù„", lastActive: "Ûµ Ø¯Ù‚ÛŒÙ‚Ù‡ Ù¾ÛŒØ´" },
            { id: 3, name: "Ø¹Ù„ÛŒ Ú©Ø±ÛŒÙ…ÛŒ", email: "ali@example.com", status: "ØºÛŒØ±ÙØ¹Ø§Ù„", lastActive: "Û± Ø³Ø§Ø¹Øª Ù¾ÛŒØ´" },
            { id: 4, name: "Ø²Ù‡Ø±Ø§ Ø§Ø­Ù…Ø¯ÛŒ", email: "zahra@example.com", status: "ÙØ¹Ø§Ù„", lastActive: "Û±Ûµ Ø¯Ù‚ÛŒÙ‚Ù‡ Ù¾ÛŒØ´" },
            { id: 5, name: "Ø±Ø¶Ø§ Ø­Ø³ÛŒÙ†ÛŒ", email: "reza@example.com", status: "Ù…Ø¹Ù„Ù‚", lastActive: "Û² Ø±ÙˆØ² Ù¾ÛŒØ´" }
        ];

        // ØªÙˆÙ„ÛŒØ¯ Ø§Ø¹Ø¯Ø§Ø¯ ØªØµØ§Ø¯ÙÛŒ Ø¨Ø±Ø§ÛŒ Ø¢Ù…Ø§Ø±
        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø±
        function updateStats() {
            // Ú©Ø§Ø±Ø¨Ø±Ø§Ù† ÙØ¹Ø§Ù„
            const activeUsers = getRandomInt(1200, 1300);
            document.getElementById('activeUsers').textContent = activeUsers.toLocaleString('fa-IR');
            document.getElementById('usersChange').textContent = `+${getRandomInt(100, 150)}`;
            
            // Ø¯Ø±Ø¢Ù…Ø¯
            const revenue = (getRandomInt(10, 15) + Math.random()).toFixed(1);
            document.getElementById('todayRevenue').textContent = `${revenue}M`;
            document.getElementById('revenueChange').textContent = `+${getRandomInt(5, 10)}Ùª`;
            
            // Ø³ÙØ§Ø±Ø´Ø§Øª
            const orders = getRandomInt(80, 100);
            document.getElementById('newOrders').textContent = orders.toLocaleString('fa-IR');
            document.getElementById('ordersChange').textContent = `+${getRandomInt(3, 8)}`;
            
            // Ø±Ø´Ø¯
            const growth = (getRandomInt(20, 25) + Math.random()).toFixed(1);
            document.getElementById('weeklyGrowth').textContent = `${growth}Ùª`;
            document.getElementById('growthChange').textContent = `+${getRandomInt(2, 4)}Ùª`;
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø²Ù…Ø§Ù†
            const now = new Date().toLocaleString('fa-IR');
            document.getElementById('lastUpdateText').textContent = `Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ: ${now}`;
            
            addLog(`âœ… Ø¢Ù…Ø§Ø± Ø³ÛŒØ³ØªÙ… Ø¯Ø± ${now} Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯`);
        }

        // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¬Ø¯ÙˆÙ„ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
        function updateUsersTable() {
            const table = document.getElementById('usersTable');
            table.innerHTML = '';
            
            users.forEach(user => {
                // ØªØºÛŒÛŒØ± ÙˆØ¶Ø¹ÛŒØª ØªØµØ§Ø¯ÙÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ©
                if (Math.random() > 0.7) {
                    const statuses = ["ÙØ¹Ø§Ù„", "ØºÛŒØ±ÙØ¹Ø§Ù„", "Ù…Ø¹Ù„Ù‚"];
                    user.status = statuses[Math.floor(Math.random() * statuses.length)];
                    user.lastActive = `${getRandomInt(1, 60)} Ø¯Ù‚ÛŒÙ‚Ù‡ Ù¾ÛŒØ´`;
                }
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${user.id}</td>
                    <td>${user.name}</td>
                    <td>${user.email}</td>
                    <td>
                        <span class="badge ${user.status === 'ÙØ¹Ø§Ù„' ? 'bg-success' : user.status === 'ØºÛŒØ±ÙØ¹Ø§Ù„' ? 'bg-secondary' : 'bg-warning'}">
                            ${user.status}
                        </span>
                    </td>
                    <td>${user.lastActive}</td>
                    <td>
                        <button class="btn btn-sm btn-outline-primary" onclick="editUser(${user.id})">
                            <i class="bi bi-pencil"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger ms-1" onclick="deleteUser(${user.id})">
                            <i class="bi bi-trash"></i>
                        </button>
                    </td>
                `;
                table.appendChild(row);
            });
        }

        // Ø§ÙØ²ÙˆØ¯Ù† Ù„Ø§Ú¯
        function addLog(message) {
            const logs = document.getElementById('systemLogs');
            const logEntry = document.createElement('div');
            const timestamp = new Date().toLocaleTimeString('fa-IR');
            logEntry.innerHTML = `<span class="text-muted">[${timestamp}]</span> ${message}`;
            logs.appendChild(logEntry);
            logs.scrollTop = logs.scrollHeight;
        }

        // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
        function refreshData() {
            addLog('ğŸ”„ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§...');
            
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ØªØ§Ø®ÛŒØ± Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø§Ø¯Ù‡
            setTimeout(() => {
                updateStats();
                updateUsersTable();
                addLog('âœ… Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯Ù†Ø¯');
            }, 1000);
        }

        // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙÙˆØ±ÛŒ
        function forceRefresh() {
            addLog('âš¡ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙÙˆØ±ÛŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø´Ø¯...');
            updateStats();
            updateUsersTable();
            addLog('âœ… Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙÙˆØ±ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯');
        }

        // Ø¹Ù…Ù„ÛŒØ§Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
        function editUser(userId) {
            const user = users.find(u => u.id === userId);
            addLog(`âœï¸ ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ø§Ø±Ø¨Ø±: ${user.name} (ID: ${user.id})`);
            alert(`ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ø§Ø±Ø¨Ø±: ${user.name}\n\nØ§ÛŒÙ† Ù‚Ø§Ø¨Ù„ÛŒØª Ø¯Ø± Ù†Ø³Ø®Ù‡ Ú©Ø§Ù…Ù„ ÙØ¹Ø§Ù„ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.`);
        }

        function deleteUser(userId) {
            const user = users.find(u => u.id === userId);
            if (confirm(`Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ú©Ø§Ø±Ø¨Ø± "${user.name}" Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ`)) {
                addLog(`ğŸ—‘ï¸ Ú©Ø§Ø±Ø¨Ø± Ø­Ø°Ù Ø´Ø¯: ${user.name} (ID: ${user.id})`);
                alert(`Ú©Ø§Ø±Ø¨Ø± "${user.name}" Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯.`);
            }
        }

        // Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
            updateUsersTable();
            addLog('ğŸš€ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Tetra Ecosystem Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø´Ø¯');
            addLog('ğŸ“Š Ø³ÛŒØ³ØªÙ… Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Real-time ÙØ¹Ø§Ù„ Ø´Ø¯');
            
            // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ù‡Ø± 30 Ø«Ø§Ù†ÛŒÙ‡
            setInterval(refreshData, 30000);
        });
    </script>
</body>
</html>
