<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø¨Ø¯Ù„ 2D Ø¨Ù‡ 3D - Tetra Ecosystem</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            color: white;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
        }
        #3d-container {
            width: 100%;
            height: 400px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
        }
        .upload-area {
            border: 2px dashed rgba(255,255,255,0.3);
            border-radius: 10px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .upload-area:hover {
            border-color: #10b981;
            background: rgba(16, 185, 129, 0.1);
        }
    </style>
</head>
<body class="gradient-bg">
    <nav class="navbar navbar-dark">
        <div class="container">
            <span class="navbar-brand mb-0 h1">
                <i class="bi bi-box"></i>
                Ù…Ø¨Ø¯Ù„ 2D Ø¨Ù‡ 3D - Tetra
            </span>
        </div>
    </nav>

    <div class="container py-5">
        <div class="row">
            <div class="col-md-6 mb-4">
                <div class="glass-card p-4">
                    <h4 class="text-center mb-4">ğŸ“¤ Ø¢Ù¾Ù„ÙˆØ¯ ØªØµÙˆÛŒØ± 2D</h4>
                    
                    <div class="upload-area" id="uploadArea">
                        <i class="bi bi-cloud-upload" style="font-size: 3rem;"></i>
                        <p class="mt-3">Ø¨Ø±Ø§ÛŒ Ø¢Ù¾Ù„ÙˆØ¯ ØªØµÙˆÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ ÛŒØ§ ÙØ§ÛŒÙ„ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø±Ù‡Ø§ Ú©Ù†ÛŒØ¯</p>
                        <small>ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ø§Ø²: JPG, PNG, SVG (Ø­Ø¯Ø§Ú©Ø«Ø± 5MB)</small>
                        <input type="file" id="imageInput" accept=".jpg,.jpeg,.png,.svg" style="display: none;">
                    </div>

                    <div class="mt-4" id="controls" style="display: none;">
                        <h5>ØªÙ†Ø¸ÛŒÙ…Ø§Øª ØªØ¨Ø¯ÛŒÙ„ 3D</h5>
                        
                        <div class="mb-3">
                            <label>Ø¹Ù…Ù‚ (Depth):</label>
                            <input type="range" class="form-range" id="depthSlider" min="0.1" max="2" step="0.1" value="1">
                            <span id="depthValue">1.0</span>
                        </div>

                        <div class="mb-3">
                            <label>Ú†Ø±Ø®Ø´ X:</label>
                            <input type="range" class="form-range" id="rotateX" min="0" max="360" value="0">
                        </div>

                        <div class="mb-3">
                            <label>Ú†Ø±Ø®Ø´ Y:</label>
                            <input type="range" class="form-range" id="rotateY" min="0" max="360" value="0">
                        </div>

                        <button class="btn btn-success w-100" onclick="convertTo3D()">
                            <i class="bi bi-magic"></i> ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ 3D
                        </button>
                    </div>
                </div>
            </div>

            <div class="col-md-6 mb-4">
                <div class="glass-card p-4">
                    <h4 class="text-center mb-4">ğŸ® Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´ 3D</h4>
                    
                    <div id="3d-container">
                        <div id="placeholder" class="h-100 d-flex align-items-center justify-content-center">
                            <div class="text-center text-muted">
                                <i class="bi bi-cube" style="font-size: 3rem;"></i>
                                <p class="mt-2">Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´ 3D Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯</p>
                            </div>
                        </div>
                    </div>

                    <div class="mt-3" id="exportControls" style="display: none;">
                        <button class="btn btn-outline-light w-100 mb-2" onclick="exportGLB()">
                            <i class="bi bi-download"></i> Ø®Ø±ÙˆØ¬ÛŒ GLB
                        </button>
                        <button class="btn btn-outline-light w-100" onclick="exportSTL()">
                            <i class="bi bi-download"></i> Ø®Ø±ÙˆØ¬ÛŒ STL
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ú¯Ø§Ù„Ø±ÛŒ Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ -->
        <div class="glass-card p-4 mt-4">
            <h4 class="text-center mb-4">ğŸ¨ Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ù…Ø§Ø¯Ù‡</h4>
            <div class="row text-center">
                <div class="col-md-3 mb-3">
                    <div class="glass-card p-3">
                        <i class="bi bi-square" style="font-size: 2rem;"></i>
                        <p class="mt-2">Ù…Ú©Ø¹Ø¨ Ø³Ø§Ø¯Ù‡</p>
                        <button class="btn btn-sm btn-outline-light" onclick="loadSample('cube')">Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ</button>
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="glass-card p-3">
                        <i class="bi bi-circle" style="font-size: 2rem;"></i>
                        <p class="mt-2">Ú©Ø±Ù‡</p>
                        <button class="btn btn-sm btn-outline-light" onclick="loadSample('sphere')">Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ</button>
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="glass-card p-3">
                        <i class="bi bi-triangle" style="font-size: 2rem;"></i>
                        <p class="mt-2">Ù‡Ø±Ù…</p>
                        <button class="btn btn-sm btn-outline-light" onclick="loadSample('pyramid')">Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ</button>
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="glass-card p-3">
                        <i class="bi bi-textarea" style="font-size: 2rem;"></i>
                        <p class="mt-2">Ù…ØªÙ† Ø³Ù‡â€ŒØ¨Ø¹Ø¯ÛŒ</p>
                        <button class="btn btn-sm btn-outline-light" onclick="loadSample('text')">Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let scene, camera, renderer, object3D;
        let uploadedImage = null;

        // Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ ØµØ­Ù†Ù‡ Three.js
        function init3DScene() {
            const container = document.getElementById('3d-container');
            
            // Ø§ÛŒØ¬Ø§Ø¯ ØµØ­Ù†Ù‡
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x1e3c72);
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ø¯ÙˆØ±Ø¨ÛŒÙ†
            camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
            camera.position.z = 5;
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ø±Ù†Ø¯Ø±Ø±
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            
            // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† placeholder Ùˆ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø±Ù†Ø¯Ø±Ø±
            const placeholder = document.getElementById('placeholder');
            if (placeholder) placeholder.remove();
            container.appendChild(renderer.domElement);
            
            // Ù†ÙˆØ±Ù¾Ø±Ø¯Ø§Ø²ÛŒ
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(1, 1, 1);
            scene.add(directionalLight);
            
            // Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ÛŒ Ú†Ø±Ø®Ø´
            setupControls();
            
            // Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
            animate();
        }

        function setupControls() {
            // Ú©Ù†ØªØ±Ù„ Ø§Ø³Ù„Ø§ÛŒØ¯Ø±Ù‡Ø§
            document.getElementById('rotateX').addEventListener('input', (e) => {
                if (object3D) {
                    object3D.rotation.x = THREE.MathUtils.degToRad(e.target.value);
                }
            });
            
            document.getElementById('rotateY').addEventListener('input', (e) => {
                if (object3D) {
                    object3D.rotation.y = THREE.MathUtils.degToRad(e.target.value);
                }
            });
            
            document.getElementById('depthSlider').addEventListener('input', (e) => {
                document.getElementById('depthValue').textContent = e.target.value;
            });
        }

        function animate() {
            requestAnimationFrame(animate);
            renderer.render(scene, camera);
        }

        // Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„
        document.getElementById('uploadArea').addEventListener('click', () => {
            document.getElementById('imageInput').click();
        });

        document.getElementById('imageInput').addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    uploadedImage = e.target.result;
                    document.getElementById('controls').style.display = 'block';
                    alert('âœ… ØªØµÙˆÛŒØ± Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯! Ø­Ø§Ù„Ø§ Ø¯Ú©Ù…Ù‡ "ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ 3D" Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯.');
                };
                reader.readAsDataURL(file);
            }
        });

        // ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ 3D
        function convertTo3D() {
            if (!uploadedImage) {
                alert('Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ ÛŒÚ© ØªØµÙˆÛŒØ± Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯');
                return;
            }

            // Ù…Ù‚Ø¯Ø§Ø± Ø¹Ù…Ù‚ Ø§Ø² Ø§Ø³Ù„Ø§ÛŒØ¯Ø±
            const depth = parseFloat(document.getElementById('depthSlider').value);
            
            // Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ ØµØ­Ù†Ù‡ Ø§Ú¯Ø± ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯
            if (!scene) init3DScene();
            
            // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† object Ù‚Ø¨Ù„ÛŒ
            if (object3D) scene.remove(object3D);
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ø¨Ø§ÙØª Ø§Ø² ØªØµÙˆÛŒØ± Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯Ù‡
            const textureLoader = new THREE.TextureLoader();
            textureLoader.load(uploadedImage, (texture) => {
                // Ø§ÛŒØ¬Ø§Ø¯ geometry Ø¨Ø§ Ø¹Ù…Ù‚
                const geometry = new THREE.BoxGeometry(3, 3, depth);
                const material = [
                    new THREE.MeshBasicMaterial({ color: 0x2a5298 }), // Ø±Ø§Ø³Øª
                    new THREE.MeshBasicMaterial({ color: 0x2a5298 }), // Ú†Ù¾
                    new THREE.MeshBasicMaterial({ color: 0x2a5298 }), // Ø¨Ø§Ù„Ø§
                    new THREE.MeshBasicMaterial({ color: 0x2a5298 }), // Ù¾Ø§ÛŒÛŒÙ†
                    new THREE.MeshBasicMaterial({ map: texture }), // Ø¬Ù„Ùˆ
                    new THREE.MeshBasicMaterial({ color: 0x1e3c72 }) // Ø¹Ù‚Ø¨
                ];
                
                object3D = new THREE.Mesh(geometry, material);
                scene.add(object3D);
                
                // Ù†Ù…Ø§ÛŒØ´ Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ
                document.getElementById('exportControls').style.display = 'block';
                
                alert('ğŸ‰ ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ 3D Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯!');
            });
        }

        // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§
        function loadSample(type) {
            if (!scene) init3DScene();
            
            if (object3D) scene.remove(object3D);
            
            let geometry;
            switch(type) {
                case 'cube':
                    geometry = new THREE.BoxGeometry(2, 2, 2);
                    break;
                case 'sphere':
                    geometry = new THREE.SphereGeometry(1.5, 32, 32);
                    break;
                case 'pyramid':
                    geometry = new THREE.ConeGeometry(1.5, 3, 4);
                    break;
                case 'text':
                    // Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø¯Ú¯ÛŒØŒ Ø§Ø² ÛŒÚ© Ø¬Ø¹Ø¨Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
                    geometry = new THREE.BoxGeometry(2, 1, 0.5);
                    break;
            }
            
            const material = new THREE.MeshPhongMaterial({ 
                color: 0x10b981,
                shininess: 100
            });
            
            object3D = new THREE.Mesh(geometry, material);
            scene.add(object3D);
            
            document.getElementById('exportControls').style.display = 'block';
            document.getElementById('controls').style.display = 'block';
        }

        // ØªÙˆØ§Ø¨Ø¹ Ø®Ø±ÙˆØ¬ÛŒ (Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ)
        function exportGLB() {
            alert('ğŸ“¦ ÙØ§ÛŒÙ„ GLB Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ø³Øª...\n(Ø§ÛŒÙ† ÛŒÚ© Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø§Ø³Øª - Ø¯Ø± Ù†Ø³Ø®Ù‡ ÙˆØ§Ù‚Ø¹ÛŒ ÙØ§ÛŒÙ„ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯)');
        }

        function exportSTL() {
            alert('ğŸ“¦ ÙØ§ÛŒÙ„ STL Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ø³Øª...\n(Ø§ÛŒÙ† ÛŒÚ© Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø§Ø³Øª - Ø¯Ø± Ù†Ø³Ø®Ù‡ ÙˆØ§Ù‚Ø¹ÛŒ ÙØ§ÛŒÙ„ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯)');
        }

        // ØªÙ†Ø¸ÛŒÙ… Ø³Ø§ÛŒØ² Ù‡Ù†Ú¯Ø§Ù… ØªØºÛŒÛŒØ± Ø§Ù†Ø¯Ø§Ø²Ù‡ Ù¾Ù†Ø¬Ø±Ù‡
        window.addEventListener('resize', () => {
            if (camera && renderer) {
                const container = document.getElementById('3d-container');
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
            }
        });

        console.log('ğŸš€ Ù…Ø¨Ø¯Ù„ 2D Ø¨Ù‡ 3D Tetra Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª!');
    </script>
</body>
</html>
