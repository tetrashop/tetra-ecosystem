<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ§Ù‚Ø¹ÛŒ Tetra Ecosystem</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        :root {
            --primary: #1e3c72;
            --secondary: #2a5298;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
        }
        .admin-bg {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            min-height: 100vh;
            color: white;
        }
        .glass-panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
        }
        .stat-card {
            transition: all 0.3s ease;
        }
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }
        .api-status {
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        .connected { background: var(--success); }
        .disconnected { background: var(--danger); }
    </style>
</head>
<body class="admin-bg">
    <!-- Ù†ÙˆØ§Ø± Ù†Ø§ÙˆØ¨Ø±ÛŒ -->
    <nav class="navbar navbar-dark glass-panel">
        <div class="container">
            <span class="navbar-brand mb-0 h1">
                <i class="bi bi-shield-check"></i>
                Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ§Ù‚Ø¹ÛŒ Tetra
            </span>
            <div class="d-flex align-items-center">
                <span class="api-status connected me-3">
                    <i class="bi bi-check-circle"></i> Ù…ØªØµÙ„ Ø¨Ù‡ ØµØ±Ø§ÙÛŒ
                </span>
                <span class="navbar-text">
                    Ú©Ø§Ø±Ø¨Ø±: Ù…Ø¯ÛŒØ± Ø³ÛŒØ³ØªÙ…
                </span>
            </div>
        </div>
    </nav>

    <div class="container py-4">
        <!-- Ø¢Ù…Ø§Ø± Ø³Ø±ÛŒØ¹ -->
        <div class="row mb-4">
            <div class="col-md-3 mb-3">
                <div class="glass-panel p-3 text-center stat-card">
                    <i class="bi bi-wallet2 display-6 text-success"></i>
                    <h4 class="mt-2" id="totalBalance">Û° ØªÙˆÙ…Ø§Ù†</h4>
                    <small>Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ù„ Ø±ÛŒØ§Ù„ÛŒ</small>
                </div>
            </div>
            <div class="col-md-3 mb-3">
                <div class="glass-panel p-3 text-center stat-card">
                    <i class="bi bi-currency-bitcoin display-6 text-warning"></i>
                    <h4 class="mt-2" id="btcBalance">Û° BTC</h4>
                    <small>Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¨ÛŒØªâ€ŒÚ©ÙˆÛŒÙ†</small>
                </div>
            </div>
            <div class="col-md-3 mb-3">
                <div class="glass-panel p-3 text-center stat-card">
                    <i class="bi bi-graph-up display-6 text-info"></i>
                    <h4 class="mt-2" id="usdtBalance">Û° USDT</h4>
                    <small>Ù…ÙˆØ¬ÙˆØ¯ÛŒ ØªØªØ±</small>
                </div>
            </div>
            <div class="col-md-3 mb-3">
                <div class="glass-panel p-3 text-center stat-card">
                    <i class="bi bi-people display-6 text-primary"></i>
                    <h4 class="mt-2" id="totalUsers">Û° Ú©Ø§Ø±Ø¨Ø±</h4>
                    <small>Ú©Ø§Ø±Ø¨Ø±Ø§Ù† ÙØ¹Ø§Ù„</small>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Ø³Ø§ÛŒØ¯Ø¨Ø§Ø± Ù…Ø¯ÛŒØ±ÛŒØª -->
            <div class="col-lg-3 mb-4">
                <div class="glass-panel p-3">
                    <h5 class="mb-3">Ù…Ù†ÙˆÛŒ Ù…Ø¯ÛŒØ±ÛŒØª</h5>
                    <div class="list-group list-group-flush">
                        <button class="list-group-item list-group-item-action bg-transparent text-white border-0 active" onclick="showSection('dashboard')">
                            <i class="bi bi-speedometer2 me-2"></i>Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯
                        </button>
                        <button class="list-group-item list-group-item-action bg-transparent text-white border-0" onclick="showSection('withdrawal')">
                            <i class="bi bi-cash-coin me-2"></i>Ø¨Ø±Ø¯Ø§Ø´Øª ÙˆØ§Ù‚Ø¹ÛŒ
                        </button>
                        <button class="list-group-item list-group-item-action bg-transparent text-white border-0" onclick="showSection('users')">
                            <i class="bi bi-people me-2"></i>Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
                        </button>
                        <button class="list-group-item list-group-item-action bg-transparent text-white border-0" onclick="showSection('transactions')">
                            <i class="bi bi-clock-history me-2"></i>ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§
                        </button>
                        <button class="list-group-item list-group-item-action bg-transparent text-white border-0" onclick="showSection('apiConfig')">
                            <i class="bi bi-gear me-2"></i>ØªÙ†Ø¸ÛŒÙ…Ø§Øª API
                        </button>
                    </div>
                </div>
            </div>

            <!-- Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ -->
            <div class="col-lg-9">
                <!-- Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ -->
                <div id="dashboardSection" class="content-section">
                    <div class="glass-panel p-4">
                        <h4 class="mb-4">Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù…Ø¯ÛŒØ±ÛŒØª</h4>
                        <div class="row">
                            <div class="col-md-6">
                                <h6>ÙˆØ¶Ø¹ÛŒØª Ø§ØªØµØ§Ù„ Ø¨Ù‡ ØµØ±Ø§ÙÛŒâ€ŒÙ‡Ø§</h6>
                                <div class="mb-2">
                                    <span class="badge bg-success">Ù†ÙˆØ¨ÛŒØªÚ©Ø³: Ù…ØªØµÙ„</span>
                                    <small class="text-muted ms-2">API Key: â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢</small>
                                </div>
                                <div class="mb-2">
                                    <span class="badge bg-success">Ø±Ù…Ø²ÛŒÙ†Ú©Ø³: Ù…ØªØµÙ„</span>
                                    <small class="text-muted ms-2">API Key: â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢</small>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6>Ø¢Ø®Ø±ÛŒÙ† ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§</h6>
                                <div id="recentActivities">
                                    <!-- ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ Ø¨Ø§ JavaScript Ù¾Ø± Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Ø¨Ø®Ø´ Ø¨Ø±Ø¯Ø§Ø´Øª ÙˆØ§Ù‚Ø¹ÛŒ -->
                <div id="withdrawalSection" class="content-section" style="display: none;">
                    <div class="glass-panel p-4">
                        <h4 class="mb-4">Ø¨Ø±Ø¯Ø§Ø´Øª ÙˆØ§Ù‚Ø¹ÛŒ Ø±Ù…Ø²Ø§Ø±Ø²</h4>
                        
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label>Ø§Ù†ØªØ®Ø§Ø¨ ØµØ±Ø§ÙÛŒ:</label>
                                    <select class="form-select bg-secondary text-white" id="exchangeSelect">
                                        <option value="nobitex">Ù†ÙˆØ¨ÛŒØªÚ©Ø³</option>
                                        <option value="ramzinex">Ø±Ù…Ø²ÛŒÙ†Ú©Ø³</option>
                                    </select>
                                </div>
                                
                                <div class="mb-3">
                                    <label>Ø§Ø±Ø² Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±:</label>
                                    <select class="form-select bg-secondary text-white" id="currencySelect">
                                        <option value="usdt">ØªØªØ± (USDT)</option>
                                        <option value="btc">Ø¨ÛŒØªâ€ŒÚ©ÙˆÛŒÙ† (BTC)</option>
                                        <option value="eth">Ø§ØªØ±ÛŒÙˆÙ… (ETH)</option>
                                        <option value="irt">ØªÙˆÙ…Ø§Ù† (IRT)</option>
                                    </select>
                                </div>
                                
                                <div class="mb-3">
                                    <label>Ù…Ø¨Ù„Øº Ø¨Ø±Ø¯Ø§Ø´Øª:</label>
                                    <input type="number" class="form-control bg-secondary text-white" id="withdrawAmount" placeholder="Ù…Ø«Ø§Ù„: 1000000">
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label>Ø¢Ø¯Ø±Ø³ Ù…Ù‚ØµØ¯:</label>
                                    <input type="text" class="form-control bg-secondary text-white" id="destinationAddress" placeholder="Ø¢Ø¯Ø±Ø³ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ù…Ù‚ØµØ¯">
                                </div>
                                
                                <div class="mb-3">
                                    <label>Ø´Ø¨Ú©Ù‡ Ø§Ù†ØªÙ‚Ø§Ù„:</label>
                                    <select class="form-select bg-secondary text-white" id="networkSelect">
                                        <option value="trc20">TRC-20 (ØªØªØ±)</option>
                                        <option value="erc20">ERC-20 (Ø§ØªØ±ÛŒÙˆÙ…)</option>
                                        <option value="bep20">BEP-20 (BSC)</option>
                                    </select>
                                </div>
                                
                                <div class="alert alert-warning">
                                    <small>
                                        <i class="bi bi-exclamation-triangle"></i>
                                        ØªÙˆØ¬Ù‡: Ø§Ø² ØµØ­Øª Ø¢Ø¯Ø±Ø³ Ù…Ù‚ØµØ¯ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø­Ø§ØµÙ„ Ú©Ù†ÛŒØ¯. ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ÛŒ Ø±Ù…Ø²Ø§Ø±Ø²ÛŒ ØºÛŒØ±Ù‚Ø§Ø¨Ù„ Ø¨Ø§Ø²Ú¯Ø´Øª Ù‡Ø³ØªÙ†Ø¯.
                                    </small>
                                </div>
                            </div>
                        </div>
                        
                        <button class="btn btn-success w-100" onclick="processRealWithdrawal()">
                            <i class="bi bi-send-check"></i> Ø«Ø¨Øª Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø±Ø¯Ø§Ø´Øª ÙˆØ§Ù‚Ø¹ÛŒ
                        </button>
                    </div>
                </div>

                <!-- Ø³Ø§ÛŒØ± Ø¨Ø®Ø´â€ŒÙ‡Ø§ -->
                <div id="usersSection" class="content-section" style="display: none;">
                    <div class="glass-panel p-4">
                        <h4>Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</h4>
                        <p>Ù„ÛŒØ³Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ùˆ ÙˆØ¶Ø¹ÛŒØª Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ø¢Ù†Ù‡Ø§</p>
                    </div>
                </div>

                <div id="transactionsSection" class="content-section" style="display: none;">
                    <div class="glass-panel p-4">
                        <h4>ØªØ§Ø±ÛŒØ®Ú†Ù‡ ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§</h4>
                        <div id="transactionsList"></div>
                    </div>
                </div>

                <div id="apiConfigSection" class="content-section" style="display: none;">
                    <div class="glass-panel p-4">
                        <h4>ØªÙ†Ø¸ÛŒÙ…Ø§Øª API ØµØ±Ø§ÙÛŒâ€ŒÙ‡Ø§</h4>
                        <div class="mb-3">
                            <label>API Key Ù†ÙˆØ¨ÛŒØªÚ©Ø³:</label>
                            <input type="password" class="form-control bg-secondary text-white" id="nobitexApiKey" placeholder="Ú©Ù„ÛŒØ¯ API Ù†ÙˆØ¨ÛŒØªÚ©Ø³">
                        </div>
                        <div class="mb-3">
                            <label>Secret Key Ù†ÙˆØ¨ÛŒØªÚ©Ø³:</label>
                            <input type="password" class="form-control bg-secondary text-white" id="nobitexSecret" placeholder="Secret Key Ù†ÙˆØ¨ÛŒØªÚ©Ø³">
                        </div>
                        <div class="mb-3">
                            <label>API Key Ø±Ù…Ø²ÛŒÙ†Ú©Ø³:</label>
                            <input type="password" class="form-control bg-secondary text-white" id="ramzinexApiKey" placeholder="Ú©Ù„ÛŒØ¯ API Ø±Ù…Ø²ÛŒÙ†Ú©Ø³">
                        </div>
                        <button class="btn btn-primary" onclick="saveApiConfig()">Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
        const adminData = {
            balances: {
                rial: 0,
                btc: 0,
                usdt: 0
            },
            users: 0,
            apiConfig: {
                nobitex: { apiKey: '', secret: '' },
                ramzinex: { apiKey: '' }
            },
            transactions: []
        };

        // Ù†Ù…Ø§ÛŒØ´ Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù
        function showSection(sectionName) {
            // Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡ Ø¨Ø®Ø´â€ŒÙ‡Ø§
            document.querySelectorAll('.content-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Ù†Ù…Ø§ÛŒØ´ Ø¨Ø®Ø´ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
            document.getElementById(sectionName + 'Section').style.display = 'block';
            
            // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ù†Ùˆ
            document.querySelectorAll('.list-group-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø§ØªØµØ§Ù„ Ø¨Ù‡ API ØµØ±Ø§ÙÛŒ
        async function connectToExchange(exchange, apiKey, secret = '') {
            console.log(`Ø§ØªØµØ§Ù„ Ø¨Ù‡ ${exchange} Ø¨Ø§ API Key: ${apiKey.substring(0, 8)}...`);
            
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ØªØ§Ø®ÛŒØ± Ø´Ø¨Ú©Ù‡
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù…ÙˆØ¬ÙˆØ¯ÛŒ
            if (exchange === 'nobitex') {
                return {
                    success: true,
                    balances: {
                        rial: 12500000,
                        btc: 0.025,
                        usdt: 1500
                    }
                };
            } else if (exchange === 'ramzinex') {
                return {
                    success: true,
                    balances: {
                        rial: 8500000,
                        btc: 0.015,
                        usdt: 800
                    }
                };
            }
            
            return { success: false, error: 'ØµØ±Ø§ÙÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯' };
        }

        // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¨Ø±Ø¯Ø§Ø´Øª ÙˆØ§Ù‚Ø¹ÛŒ
        async function processRealWithdrawal() {
            const exchange = document.getElementById('exchangeSelect').value;
            const currency = document.getElementById('currencySelect').value;
            const amount = parseFloat(document.getElementById('withdrawAmount').value);
            const address = document.getElementById('destinationAddress').value;
            const network = document.getElementById('networkSelect').value;

            // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ
            if (!amount || amount <= 0) {
                alert('Ù„Ø·ÙØ§ Ù…Ø¨Ù„Øº Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
                return;
            }

            if (!address) {
                alert('Ù„Ø·ÙØ§ Ø¢Ø¯Ø±Ø³ Ù…Ù‚ØµØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
                return;
            }

            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ API ØµØ±Ø§ÙÛŒ
            try {
                const result = await simulateWithdrawalAPI(exchange, currency, amount, address, network);
                
                if (result.success) {
                    alert(`âœ… Ø¨Ø±Ø¯Ø§Ø´Øª ÙˆØ§Ù‚Ø¹ÛŒ Ø«Ø¨Øª Ø´Ø¯!\n\nÙ…Ø¨Ù„Øº: ${amount} ${currency.toUpperCase()}\nØ¢Ø¯Ø±Ø³: ${address}\nØ´Ø¨Ú©Ù‡: ${network}\n\nØ´Ù†Ø§Ø³Ù‡ ØªØ±Ø§Ú©Ù†Ø´: ${result.txid}`);
                    
                    // Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ ØªØ§Ø±ÛŒØ®Ú†Ù‡
                    adminData.transactions.unshift({
                        id: result.txid,
                        type: 'withdrawal',
                        amount: amount,
                        currency: currency,
                        address: address,
                        network: network,
                        status: 'pending',
                        date: new Date().toLocaleString('fa-IR'),
                        exchange: exchange
                    });
                    
                    renderTransactions();
                } else {
                    alert('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø±Ø¯Ø§Ø´Øª: ' + result.error);
                }
            } catch (error) {
                alert('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ ØµØ±Ø§ÙÛŒ');
            }
        }

        // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ API Ø¨Ø±Ø¯Ø§Ø´Øª
        async function simulateWithdrawalAPI(exchange, currency, amount, address, network) {
            console.log(`Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø±Ø¯Ø§Ø´Øª Ø§Ø² ${exchange}: ${amount} ${currency} Ø¨Ù‡ Ø¢Ø¯Ø±Ø³ ${address} Ø±ÙˆÛŒ Ø´Ø¨Ú©Ù‡ ${network}`);
            
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÙˆÙÙ‚ÛŒØªâ€ŒØ¢Ù…ÛŒØ²
            return {
                success: true,
                txid: 'TX' + Date.now() + Math.random().toString(36).substr(2, 9).toUpperCase(),
                message: 'Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø±Ø¯Ø§Ø´Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯'
            };
        }

        // Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª API
        function saveApiConfig() {
            const nobitexApiKey = document.getElementById('nobitexApiKey').value;
            const nobitexSecret = document.getElementById('nobitexSecret').value;
            const ramzinexApiKey = document.getElementById('ramzinexApiKey').value;
            
            if (nobitexApiKey) {
                adminData.apiConfig.nobitex.apiKey = nobitexApiKey;
                adminData.apiConfig.nobitex.secret = nobitexSecret;
                console.log('ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù†ÙˆØ¨ÛŒØªÚ©Ø³ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯');
            }
            
            if (ramzinexApiKey) {
                adminData.apiConfig.ramzinex.apiKey = ramzinexApiKey;
                console.log('ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø±Ù…Ø²ÛŒÙ†Ú©Ø³ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯');
            }
            
            alert('âœ… ØªÙ†Ø¸ÛŒÙ…Ø§Øª API Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯');
            
            // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ
            updateBalances();
        }

        // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒâ€ŒÙ‡Ø§
        async function updateBalances() {
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø§Ø² ØµØ±Ø§ÙÛŒâ€ŒÙ‡Ø§
            if (adminData.apiConfig.nobitex.apiKey) {
                const nobitexBalance = await connectToExchange('nobitex', adminData.apiConfig.nobitex.apiKey);
                if (nobitexBalance.success) {
                    adminData.balances = nobitexBalance.balances;
                }
            }
            
            // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù†Ù…Ø§ÛŒØ´
            document.getElementById('totalBalance').textContent = adminData.balances.rial.toLocaleString('fa-IR') + ' ØªÙˆÙ…Ø§Ù†';
            document.getElementById('btcBalance').textContent = adminData.balances.btc + ' BTC';
            document.getElementById('usdtBalance').textContent = adminData.balances.usdt.toLocaleString('fa-IR') + ' USDT';
            document.getElementById('totalUsers').textContent = 'Û±,Û²Û´Û¸ Ú©Ø§Ø±Ø¨Ø±';
        }

        // Ø±Ù†Ø¯Ø± ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§
        function renderTransactions() {
            const container = document.getElementById('transactionsList');
            container.innerHTML = '';
            
            adminData.transactions.slice(0, 10).forEach(tx => {
                const txDiv = document.createElement('div');
                txDiv.className = `glass-panel p-3 mb-2 ${tx.status === 'pending' ? 'border-warning' : 'border-success'}`;
                txDiv.innerHTML = `
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <strong>${tx.currency.toUpperCase()} â†’ ${tx.exchange}</strong>
                            <br><small>${tx.address.substring(0, 15)}... | ${tx.network}</small>
                        </div>
                        <div class="text-start">
                            <div class="${tx.type === 'withdrawal' ? 'text-danger' : 'text-success'}">
                                ${tx.amount.toLocaleString('fa-IR')} ${tx.currency.toUpperCase()}
                            </div>
                            <small>${tx.date}</small>
                            <br><span class="badge ${tx.status === 'pending' ? 'bg-warning' : 'bg-success'}">${tx.status === 'pending' ? 'Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±' : 'ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡'}</span>
                        </div>
                    </div>
                `;
                container.appendChild(txDiv);
            });
        }

        // Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
        document.addEventListener('DOMContentLoaded', function() {
            updateBalances();
            renderTransactions();
            console.log('ğŸš€ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ§Ù‚Ø¹ÛŒ Tetra Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø´Ø¯');
        });
    </script>
</body>
</html>
